{"version":3,"sources":["panels/home.js","panels/payment.js","panels/afert.js","App.js","index.js"],"names":["Home","props","id","className","style","width","src","onClick","goToPage","Persik","left","goBack","title","height","platform","frameBorder","data-allow","allowFullScreen","afert","marginTop","size","level","App","useState","activePanel","setActivePanel","popout","history","setPlatform","length","connect","send","pop","where","window","pushState","panel","push","useEffect","addEventListener","e","preventDefault","platforms","name_platform","location","search","indexOf","check_platform","fetch","replace","then","json","data","console","log","isWebView","scheme","onSwipeBack","root","document","getElementById","IOS","mVKMiniAppsScrollHelper","ReactDOM","render"],"mappings":"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","file":"static/js/main.20f90281.chunk.js","sourcesContent":["import React from 'react';\n\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\n\nconst Home = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader>Оплата</PanelHeader>\n\t\t<div className=\"page\">\n\t\t\t<img style={{width: \"100%\"}} src=\"https://pay.mosenergosbyt.ru/oplata/images/vk.svg\"/>\n\t\t\t<div className=\"button_pay\">\n\t\t\t\t<button onClick={() => props.goToPage(\"payment\")}>ОПЛАТИТЬ</button>\n\t\t\t</div>\n\t\t\t<div className=\"text_description\">Перед совершением платежа не забудьте ознакомиться с <div className=\"text_description_span\" onClick={() => props.goToPage(\"afert\")}>правилами оплаты.</div></div>\n\t\t\t<br/>\n\t\t</div>\n\t</Panel>\n\n);\n\nexport default Home;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack';\n\nfunction change_params(platform) {\n\tif(platform === true) {\n\t\treturn \"&pr_mobile=1\" // + email.length !== 0 ? \"&email=\" + email : \"\"\n\t} else {\n\t\treturn \"\" //email.length !== 0 ? \"&email=\" + email : \n\t}\n}\n\nconst Persik = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader\n\t\t\tleft={<PanelHeaderBack onClick={() => props.goBack()}/>}\n\t\t>\n\t\t\tОплата\n\t\t</PanelHeader>\n\t\t\n\t\t<iframe \n\t\t\ttitle=\"none\"\n    \t\twidth=\"100%\" \n    \t\theight=\"800px\" \n    \t\tsrc={\"https://pay.vbrr.ru/mes/mos_energo_sbyt/register.html?mesMerchantLogin=MES_BK\" + change_params(props.platform)}\n    \t\tframeBorder=\"0\" \n    \t\tdata-allow=\"autoplay; encrypted-media\" \n    \t\tallowFullScreen\n\t\t>\n\t\t</iframe>\n\t\t<br/>\n\t\t<br/>\n\t</Panel>\n);\n\nPersik.propTypes = {\n\tid: PropTypes.string.isRequired,\n};\n\nexport default Persik;\n","import React from 'react'\n\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\n\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack';\n\nconst afert = props => (\n    <Panel id={props.id}>\n        <PanelHeader\n\t\t\tleft={<PanelHeaderBack onClick={() => props.goBack()}/>}\n\t\t>\n        </PanelHeader>\n\n        <div className=\"logo_image\">\n\t\t\t<img id=\"logo_image\" className=\"logo_image\" src=\"https://sun9-37.userapi.com/c858420/v858420208/199593/stngntaGrig.jpg\"/>\n\t\t</div>\n\t\t\n\t\t<Div className=\"text_logo_image\">\n\t\t\t<h1>Оплата электроэнергии банковской картой</h1>\n\t\tКомиссионное вознаграждение за проведение платежа со счета банковской карты не взимается<br /><br /> \n\t\tК оплате принимаются карты национальной платежной системы \"Мир\", а также карты международных платежных систем VISA и MasterCard, \n\t\tэмитированные в рублях РФ кредитными организациями, расположенными на территории России.<br /><br />\n\n\t\tОбязательными реквизитами, необходимыми для совершения платежа, являются:<br /><br />\n\t\t- 10 (Десяти) значный номер лицевого счета, указанный в счете на оплату электроэнергии;<br /><br />\n\t\t- период оплаты, за который осуществляется платеж;<br /><br /> \n\t\t- адрес электронной почты плательщика, предназначенный для отправки \n\t\tрезультата платежа и кассового чека в соответствии с требованием Федерального закона от 22.05.2003 \n\t\tN 54-ФЗ «О применении контрольно-кассовой техники при осуществлении расчетов в Российской Федерации<br /><br />\n\n\t\tВ период с 15 по 26 число календарного месяца при выборе способа платежа \"Оплатить по показаниям\" \n\t\tреализована функция передачи текущих показаний приборов учета, перерасчет суммы баланса и оплата счета, \n\t\tс учетом переданных показаний, на одной платежной странице.<br /><br />\n\n\t\tМаксимальная сумма платежа не может превышать 50000.00 руб<br /><br />\n\n\t\tИнформация о совершенном платеже передается в режиме реального времени и отражается в \"Личном кабинете клиента\" \n\t\tв разделе \"Состояние счета\" - \"История платежей за э / э\" с признаком \"Обрабатывается\"<br /><br />\n\n\t\tПри зачислении денежных средств на лицевой счет клиента платежу присваивается признак \"Зачислен\".<br /><br />\n\n\t\tСрок зачисления платежа от 3 до 5 дней\n\t\t<br/>\n\t\t\t\t<Button style={{marginTop: \"20px\"}} size=\"xl\" level=\"2\" onClick={() => props.goToPage(\"payment\")}>\n\t\t\t\t\tОплатить\n\t\t\t\t</Button>\n\t\t\t</Div>\n    </Panel>\n);\n\nexport default afert;","import React, { useState, useEffect } from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/home';\nimport Payment from './panels/payment';\nimport Afert from './panels/afert';\n\nimport { ConfigProvider } from '@vkontakte/vkui';\nimport './style.css'\n\nconst App = () => {\n \tconst [activePanel, setActivePanel] = useState('home');\n \tconst [popout, setPopout] = useState(null);\n\tconst [history, setHistory] = useState([\"home\"]) \n\tconst [platform, setPlatform] = useState(false) \n\tconst [email, setEmail] = useState(\"\") \n\n \tconst goBack = () => {\n\t\tif(history.length === 1){\n\t\t\tconnect.send(\"VKWebAppClose\", {\"status\": \"success\"}); \n\t\t} else if(history.length > 1){\n\t\t\thistory.pop()\n\t\t\tsetActivePanel(history[history.length - 1]) \n\t\t}\n    }\t\n\n\tuseEffect(() => {\n\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"dark\", \"action_bar_color\": \"#fff\"}); \n\t\twindow.addEventListener('popstate', e => {e.preventDefault(); goBack(e)});\n\t\tcheck_platform();\n\t\tfetch(\"https://api.xelene.me/energy/?\" + window.location.search.replace('?', ''))\n\t\t.then(json => json.json())\n\t\t.then(data => {\n\t\t\tconsole.log(data)\n\t\t})\n\t}, [])\n\n\n\t// function getEmail() {\n\t// \tconnect.send(\"VKWebAppGetEmail\", {});\n\t// \tconnect.subscribe(({ detail: { type, data }}) => {\n\t// \t\tif(type === \"VKWebAppGetEmailResult\") {\n\t// \t\t\tsetEmail(data.email)\n\t// \t\t\tgoToPage()\n\t// \t\t} else if(type === \"VKWebAppGetEmailFailed\") {\n\t// \t\t\tgoToPage(\"payment\")\n\t// \t\t}\n\t// \t});\n\t// };\n\n\tfunction goToPage(where) {\n\t\twindow.history.pushState({panel: where}, where)\n\t\tsetActivePanel(where);\n\t\thistory.push(where)\n\t}\n\n\tfunction check_platform() {\n\t\tvar platforms = [\n\t\t\t'mobile_android_messenger',\n\t\t\t'mobile_iphone_messenger',\n\t\t\t'mobile_android',\n\t\t\t'mobile_iphone',\n\t\t\t'mobile_web'\n\t\t]\n\t\tfor (var name_platform in platforms) {\n\t\t\tif (window.location.search.indexOf(platforms[name_platform]) >= 0) {\n\t\t\t\tsetPlatform(true)\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<ConfigProvider isWebView={true} scheme=\"bright_light\">\n\t\t\t<View activePanel={activePanel} popout={popout} onSwipeBack={() => goBack()} history={history}>\n\t\t\t\t<Home id='home' goToPage={goToPage}/>\n\t\t\t\t<Afert id=\"afert\" goBack={goBack} goToPage={goToPage}/>\n\t\t\t\t<Payment id='payment' goBack={goBack} platform={platform}/>\n\t\t\t</View>\n\t\t</ConfigProvider>\n\t);\n}\n\nexport default App;\n\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\nimport mVKMiniAppsScrollHelper from '@vkontakte/mvk-mini-apps-scroll-helper';\nimport {platform, IOS} from '@vkontakte/vkui';\n\n\nconnect.send('VKWebAppInit', {});\nconst root = document.getElementById('root');\nif(platform() === IOS) {\n    mVKMiniAppsScrollHelper(root);\n}\nReactDOM.render(<App />, root); "],"sourceRoot":""}